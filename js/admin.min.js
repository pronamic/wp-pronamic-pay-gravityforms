!function(a){function t(t){var i=this,e=a(t),n={};n.subscriptionAmountType=e.find('input[name="_pronamic_pay_gf_subscription_amount_type"]'),n.subscriptionIntervalType=e.find('input[name="_pronamic_pay_gf_subscription_interval_type"]'),n.subscriptionInterval=e.find("#pronamic_pay_gf_subscription_interval"),n.subscriptionIntervalPeriod=e.find("#pronamic_pay_gf_subscription_interval_period"),n.subscriptionIntervalDateType=e.find('input[name="_pronamic_pay_gf_subscription_interval_date_type"]'),n.subscriptionIntervalDate=e.find("#pronamic_pay_gf_subscription_interval_date"),n.subscriptionIntervalDateDay=e.find("#pronamic_pay_gf_subscription_interval_date_day"),n.subscriptionIntervalDateMonth=e.find("#pronamic_pay_gf_subscription_interval_date_month"),this.updateSubscriptionFields=function(){n.subscriptionAmountType.on("change",function(){var i;""===n.subscriptionAmountType.filter(":checked").val()?n.subscriptionAmountType.parents("tr").siblings().hide():(n.subscriptionAmountType.parents("tr").siblings().show(),(i=n.subscriptionAmountType.parents("table").find("tr")).removeClass("even"),i.filter(":visible:even").addClass("even"))}),n.subscriptionAmountType.trigger("change"),n.subscriptionIntervalType.on("change",function(){var i=n.subscriptionIntervalType.filter(":checked").val(),e=(a(t).find(".pronamic-pay-gf-subscription-interval-settings").hide(),a(t).find(".pronamic-pay-gf-subscription-interval-settings.interval-"+i));"fixed"!==i&&(n.subscriptionIntervalPeriod.val("D"),n.subscriptionIntervalPeriod.trigger("change")),0<e.length&&e.show()}),n.subscriptionIntervalPeriod.on("change",function(){var i=n.subscriptionIntervalPeriod.val();switch(a(t).find(".pronamic-pay-gf-subscription-interval-date-sync-settings").hide(),a(t).find(".pronamic-pay-gf-subscription-interval-date-sync-settings.interval-"+i).show(),i){case"D":n.subscriptionIntervalDateType.filter('[value="payment_date"]').prop("checked",!0),n.subscriptionIntervalDateType.attr("disabled","disabled"),n.subscriptionIntervalDate.val(""),n.subscriptionIntervalDateDay.val(""),n.subscriptionIntervalDateMonth.val("");break;case"W":n.subscriptionIntervalDateType.removeAttr("disabled"),n.subscriptionIntervalDate.val(""),n.subscriptionIntervalDateMonth.val("");break;case"M":n.subscriptionIntervalDateType.removeAttr("disabled"),n.subscriptionIntervalDateDay.val(""),n.subscriptionIntervalDateMonth.val("");break;case"Y":n.subscriptionIntervalDateType.removeAttr("disabled"),n.subscriptionIntervalDateDay.val("")}n.subscriptionIntervalDateType.trigger("change")}),a(t).find(".pronamic-pay-gf-subscription-interval-date-sync-settings select").on("change",function(){n.subscriptionIntervalDateType.filter('[value="sync"]').prop("checked",!0),n.subscriptionIntervalDateType.trigger("change")}),n.subscriptionIntervalType.trigger("change"),n.subscriptionIntervalPeriod.trigger("change")},this.updateFields=function(){i.updateSubscriptionFields()},i.updateFields()}a.fn.gravityFormsPayFeedEditor=function(){return this.each(function(){var i,e=a(this);e.data("gf-pay-feed-editor")||(i=new t(this),e.data("gf-pay-feed-editor",i))})},a(document).ready(function(){a(".gforms_edit_form .ideal-edit-link").click(function(i){i.stopPropagation()}),a("#gf-pay-feed-editor").gravityFormsPayFeedEditor(),"undefined"!=typeof gform&&"undefined"!=typeof form&&(gform.addAction("gform_load_field_choices",function(i){var e,i=i.shift();i&&(e="pronamic_pay_payment_method_selector"===i.type,a('label[for="field_choice_values_enabled"]').parent("div").toggle(!e),e&&a.each(i.choices,function(i,e){e.builtin&&((e=a(".field-choice-input.field-choice-value").eq(i)).attr("disabled","disabled"),e.parent("li").find(".gf_delete_field_choice").remove())}))}),gform.addFilter("gform_has_conditional_logic_dependency",function(i,e){return"undefined"!=typeof form&&-1!==a.inArray(e.toString(),form.pronamic_pay_condition_field_ids)||i})),a(document).on("gform_load_field_settings",function(i,t){a.each({pronamic_pay_config_field:"pronamicPayConfigId",pronamic_pay_display_field:"pronamicPayDisplayMode"},function(i,e){i=a("#"+i);0<i.find('option[value="'+t[e]+'"]').length?i.val(t[e]):SetFieldProperty(e,"")})})})}(jQuery);
//# sourceMappingURL=admin.min.js.map