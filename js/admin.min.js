!function(a){function n(n){var i=this,e=a(n),t={};t.subscriptionAmountType=e.find('input[name="_pronamic_pay_gf_subscription_amount_type"]'),t.subscriptionIntervalType=e.find('input[name="_pronamic_pay_gf_subscription_interval_type"]'),t.subscriptionInterval=e.find("#pronamic_pay_gf_subscription_interval"),t.subscriptionIntervalPeriod=e.find("#pronamic_pay_gf_subscription_interval_period"),t.subscriptionIntervalDateType=e.find('input[name="_pronamic_pay_gf_subscription_interval_date_type"]'),t.subscriptionIntervalDate=e.find("#pronamic_pay_gf_subscription_interval_date"),t.subscriptionIntervalDateDay=e.find("#pronamic_pay_gf_subscription_interval_date_day"),t.subscriptionIntervalDateMonth=e.find("#pronamic_pay_gf_subscription_interval_date_month"),t.subscriptionFrequencyType=e.find('input[name="_pronamic_pay_gf_subscription_frequency_type"]'),t.subscriptionNumberPeriods=e.find("#pronamic_pay_gf_subscription_number_periods"),t.subscriptionTrialEnabled=e.find("#pronamic_pay_gf_subscription_trial_enabled"),this.updateSubscriptionFields=function(){t.subscriptionAmountType.on("change",function(){var i=t.subscriptionAmountType.filter(":checked").val(),e=(""===i?t.subscriptionAmountType.parents("tr").siblings().hide():(t.subscriptionAmountType.parents("tr").siblings().show(),(e=t.subscriptionAmountType.parents("table").find("tr")).removeClass("even"),e.filter(":visible:even").addClass("even")),a(n).find(".pronamic-pay-gf-subscription-amount-settings.amount-"+i));0<e.length&&e.show()}),t.subscriptionAmountType.trigger("change"),t.subscriptionIntervalType.on("change",function(){var i=t.subscriptionIntervalType.filter(":checked").val(),e=(a(n).find(".pronamic-pay-gf-subscription-interval-settings").hide(),a(n).find(".pronamic-pay-gf-subscription-interval-settings.interval-"+i));"fixed"!==i&&(t.subscriptionIntervalPeriod.val("D"),t.subscriptionIntervalPeriod.trigger("change")),0<e.length&&e.show()}),t.subscriptionIntervalDateType.on("change",function(){var i=t.subscriptionIntervalDateType.filter(":checked").val(),i=(a(n).find(".pronamic-pay-gf-subscription-interval-date-settings").hide(),a(n).find(".pronamic-pay-gf-subscription-interval-date-settings.interval-date-"+i));0<i.length&&i.show()}),t.subscriptionIntervalPeriod.on("change",function(){var i=t.subscriptionIntervalPeriod.val();switch(a(n).find(".pronamic-pay-gf-subscription-interval-date-sync-settings").hide(),a(n).find(".pronamic-pay-gf-subscription-interval-date-sync-settings.interval-"+i).show(),i){case"D":t.subscriptionIntervalDateType.filter('[value="payment_date"]').prop("checked",!0),t.subscriptionIntervalDateType.attr("disabled","disabled"),t.subscriptionIntervalDate.val(""),t.subscriptionIntervalDateDay.val(""),t.subscriptionIntervalDateMonth.val("");break;case"W":t.subscriptionIntervalDateType.removeAttr("disabled"),t.subscriptionIntervalDate.val(""),t.subscriptionIntervalDateMonth.val("");break;case"M":t.subscriptionIntervalDateType.removeAttr("disabled"),t.subscriptionIntervalDateDay.val(""),t.subscriptionIntervalDateMonth.val("");break;case"Y":t.subscriptionIntervalDateType.removeAttr("disabled"),t.subscriptionIntervalDateDay.val("")}t.subscriptionIntervalDateType.trigger("change")}),a(n).find("select.pronamic-pay-gf-subscription-interval-date-sync-settings").on("change",function(){t.subscriptionIntervalDateType.filter('[value="sync"]').prop("checked",!0),t.subscriptionIntervalDateType.trigger("change")}),t.subscriptionIntervalType.trigger("change"),t.subscriptionIntervalPeriod.trigger("change"),t.subscriptionFrequencyType.on("change",function(){var i=t.subscriptionFrequencyType.filter(":checked").val(),i=(a(n).find(".pronamic-pay-gf-subscription-frequency-settings").hide(),a(n).find(".pronamic-pay-gf-subscription-frequency-settings.frequency-"+i));0<i.length&&i.show()}),t.subscriptionFrequencyType.trigger("change")},this.updateFields=function(){i.updateSubscriptionFields()},i.updateFields()}a.fn.gravityFormsPayFeedEditor=function(){return this.each(function(){var i,e=a(this);e.data("gf-pay-feed-editor")||(i=new n(this),e.data("gf-pay-feed-editor",i))})},a(document).ready(function(){a(".gforms_edit_form .ideal-edit-link").click(function(i){i.stopPropagation()}),a("#gf-pay-feed-editor").gravityFormsPayFeedEditor(),"undefined"!=typeof gform&&"undefined"!=typeof form&&(gform.addAction("gform_load_field_choices",function(i){var e,i=i.shift();i&&(e="pronamic_pay_payment_method_selector"===i.type,a('label[for="field_choice_values_enabled"]').parent("div").toggle(!e),e&&a.each(i.choices,function(i,e){e.builtin&&((e=a(".field-choice-input.field-choice-value").eq(i)).attr("disabled","disabled"),e.parent("li").find(".gf_delete_field_choice").remove())}))}),gform.addFilter("gform_has_conditional_logic_dependency",function(i,e){return"undefined"!=typeof form&&-1!==a.inArray(e.toString(),form.pronamic_pay_condition_field_ids)||i})),a(document).on("gform_load_field_settings",function(i,n){a.each({pronamic_pay_config_field:"pronamicPayConfigId",pronamic_pay_display_field:"pronamicPayDisplayMode"},function(i,e){i=a("#"+i);0<i.find('option[value="'+n[e]+'"]').length?i.val(n[e]):SetFieldProperty(e,"")})})})}(jQuery);
//# sourceMappingURL=admin.min.js.map